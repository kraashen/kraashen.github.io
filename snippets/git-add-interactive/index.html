<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git add with interactive mode | tracing bytes</title>
<meta name=keywords content="cli,git,tools"><meta name=description content="Stuck on a situation with multiple files with many changes but want to commit some part of the changes as separate commits?
Git patch feature to the rescue! There are two quick options: git add --patch and patching interactively via git add -i . Each have some differences.
With git add you get the interactive git terminal to go through your unstaged, staged, and untracked files, as well as to call patch (5) to interactively go through the unstaged changed from files."><meta name=author content><link rel=canonical href=https://kraashen.github.io/snippets/git-add-interactive/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://kraashen.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kraashen.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kraashen.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://kraashen.github.io/apple-touch-icon.png><link rel=mask-icon href=https://kraashen.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://kraashen.github.io/snippets/git-add-interactive/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Git add with interactive mode"><meta property="og:description" content="Stuck on a situation with multiple files with many changes but want to commit some part of the changes as separate commits?
Git patch feature to the rescue! There are two quick options: git add --patch and patching interactively via git add -i . Each have some differences.
With git add you get the interactive git terminal to go through your unstaged, staged, and untracked files, as well as to call patch (5) to interactively go through the unstaged changed from files."><meta property="og:type" content="article"><meta property="og:url" content="https://kraashen.github.io/snippets/git-add-interactive/"><meta property="article:section" content="snippets"><meta property="article:published_time" content="2022-09-05T00:00:00+00:00"><meta property="article:modified_time" content="2022-09-05T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git add with interactive mode"><meta name=twitter:description content="Stuck on a situation with multiple files with many changes but want to commit some part of the changes as separate commits?
Git patch feature to the rescue! There are two quick options: git add --patch and patching interactively via git add -i . Each have some differences.
With git add you get the interactive git terminal to go through your unstaged, staged, and untracked files, as well as to call patch (5) to interactively go through the unstaged changed from files."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Snippets","item":"https://kraashen.github.io/snippets/"},{"@type":"ListItem","position":2,"name":"Git add with interactive mode","item":"https://kraashen.github.io/snippets/git-add-interactive/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git add with interactive mode","name":"Git add with interactive mode","description":"Stuck on a situation with multiple files with many changes but want to commit some part of the changes as separate commits?\nGit patch feature to the rescue! There are two quick options: git add --patch and patching interactively via git add -i . Each have some differences.\nWith git add you get the interactive git terminal to go through your unstaged, staged, and untracked files, as well as to call patch (5) to interactively go through the unstaged changed from files.","keywords":["cli","git","tools"],"articleBody":"Stuck on a situation with multiple files with many changes but want to commit some part of the changes as separate commits?\nGit patch feature to the rescue! There are two quick options: git add --patch and patching interactively via git add -i . Each have some differences.\nWith git add you get the interactive git terminal to go through your unstaged, staged, and untracked files, as well as to call patch (5) to interactively go through the unstaged changed from files.\n❯ git add -i staged unstaged path 1: unchanged +1/-1 file1 2: unchanged +7/-1 file2 *** Commands *** 1: status\t2: update\t3: revert\t4: add untracked 5: patch\t6: diff\t7: quit\t8: help What now\u003e p staged unstaged path 1: unchanged +1/-1 file1 2: unchanged +7/-1 file2 Patch update\u003e\u003e 1 staged unstaged path * 1: unchanged +1/-1 file1 2: unchanged +7/-1 file2 Patch update\u003e\u003e diff --git a/file1 b/file1 (1/1) Stage this hunk [y,n,q,a,d,e,?]? ^C ... When calling git add with --patch, you get only the unstaged changes as prompts if you want them to be included:\ngit add --patch ... (1/1) Stage this hunk [y,n,q,a,d,e,?]? ? y - stage this hunk n - do not stage this hunk q - quit; do not stage this hunk or any of the remaining ones a - stage this hunk and all later hunks in the file d - do not stage this hunk or any of the later hunks in the file e - manually edit the current hunk ? - print help ","wordCount":"257","inLanguage":"en","datePublished":"2022-09-05T00:00:00Z","dateModified":"2022-09-05T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://kraashen.github.io/snippets/git-add-interactive/"},"publisher":{"@type":"Organization","name":"tracing bytes","logo":{"@type":"ImageObject","url":"https://kraashen.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kraashen.github.io/ accesskey=h title="tracing bytes (Alt + H)">tracing bytes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kraashen.github.io/ title=Home><span>Home</span></a></li><li><a href=https://kraashen.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://kraashen.github.io/snippets/ title=Snippets><span>Snippets</span></a></li><li><a href=https://kraashen.github.io/my-library/ title="My Library"><span>My Library</span></a></li><li><a href=https://kraashen.github.io/interests/ title=Interests><span>Interests</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Git add with interactive mode</h1><div class=post-meta><span title='2022-09-05 00:00:00 +0000 UTC'>September 5, 2022</span></div></header><div class=post-content><p>Stuck on a situation with multiple files with many changes but want to commit some part of the
changes as separate commits?</p><p>Git patch feature to the rescue! There are two quick options: <code>git add --patch</code> and patching interactively via <code>git add -i</code> .
Each have some differences.</p><p>With git add you get the interactive git terminal to go through your unstaged, staged, and untracked files,
as well as to call patch (5) to interactively go through the unstaged changed from files.</p><pre tabindex=0><code>❯ git add -i
           staged     unstaged path
  1:    unchanged        +1/-1 file1
  2:    unchanged        +7/-1 file2
  
*** Commands ***
  1: status	  2: update	  3: revert	  4: add untracked
  5: patch	  6: diff	  7: quit	  8: help
What now&gt; p

           staged     unstaged path
  1:    unchanged        +1/-1 file1
  2:    unchanged        +7/-1 file2
  
Patch update&gt;&gt; 1

           staged     unstaged path
* 1:    unchanged        +1/-1 file1
  2:    unchanged        +7/-1 file2
  
Patch update&gt;&gt;

diff --git a/file1 b/file1
&lt;diff output&gt;

(1/1) Stage this hunk [y,n,q,a,d,e,?]? ^C
...
</code></pre><p>When calling <code>git add</code> with <code>--patch</code>, you get only the unstaged changes as prompts if you want them to be included:</p><pre tabindex=0><code>git add --patch

...
(1/1) Stage this hunk [y,n,q,a,d,e,?]? ?
y - stage this hunk
n - do not stage this hunk
q - quit; do not stage this hunk or any of the remaining ones
a - stage this hunk and all later hunks in the file
d - do not stage this hunk or any of the later hunks in the file
e - manually edit the current hunk
? - print help
</code></pre></div><footer class=post-footer><ul class=post-tags><li><a href=https://kraashen.github.io/tags/cli/>Cli</a></li><li><a href=https://kraashen.github.io/tags/git/>Git</a></li><li><a href=https://kraashen.github.io/tags/tools/>Tools</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://kraashen.github.io/>tracing bytes</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>